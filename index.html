<!DOCTYPE html>
<html class="h-100">
<head>
  <meta charset="UTF-8" />
  <title>Demo SPA</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="/css/main.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/atom-one-dark.min.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/solid.css" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/fontawesome.css" crossorigin="anonymous" />
</head>

<body class="h-100">
<div id="app" class="h-100 d-flex flex-column">
  <div class="nav-container">
    <nav class="navbar navbar-expand-md navbar-light bg-light">
      <div class="container">
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item">
              <a href="/" class="nav-link route-link">Home</a>
            </li>
          </ul>
          <ul class="navbar-nav d-none d-md-block">
            <li class="nav-item auth-invisible">
              <button
                id="qsLoginBtn"
                onclick="login()"
                class="btn btn-primary btn-margin auth-invisible hidden"
              >
                Log in
              </button>
            </li>
            <li class="nav-item dropdown auth-visible hidden">
              <a class="nav-link dropdown-toggle" href="#" id="profileDropDown" data-toggle="dropdown">
                <img alt="Profile picture" class="nav-user-profile profile-image rounded-circle" width="50" src="" />
              </a>
              <div class="dropdown-menu">
                <!-- Show the user's full name from the id token here -->
                <div class="dropdown-header nav-user-name user-name"></div>
                <a href="/profile" class="dropdown-item dropdown-profile route-link">
                  <i class="fas fa-user mr-3"></i> Profile
                </a>
                <a href="#" class="dropdown-item" id="qsLogoutBtn" onclick="logout()">
                  <i class="fas fa-power-off mr-3"></i> Log out
                </a>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </div>

  <div id="main-content" class="container mt-5 flex-grow-1">
    <div id="content-home" class="page">
      <div class="text-center hero">
        <p class="lead">
          Demo application that demonstrates authentication flow for SPA.<br />
          Click on user icon at top right corner to access user profile.
        </p>
        <p class="lead">
          To learn more about JWT claims read
          <a href="https://www.iana.org/assignments/jwt/jwt.xhtml" target="_blank">here</a>,
          <a href="https://datatracker.ietf.org/doc/html/rfc7519#section-4" target="_blank">here</a>
        </p>
      </div>
    </div>

    <div class="page hidden" id="content-profile">
      <div class="container">
        <div class="row align-items-center profile-header">
          <div class="col-md-2">
            <img alt="User's profile picture" class="rounded-circle img-fluid profile-image mb-3 mb-md-0" src="" />
          </div>
          <div class="col-md">
            <h2 class="user-name"></h2>
            <p class="lead text-muted user-email"></p>
          </div>
        </div>

        <div class="row">
          <p class="lead">User Token Data</p>
          <pre class="rounded">
            <code id="user-token-data" class="json"></code>
          </pre>
        </div>
        <div class="row">
          <p class="lead">Claims Data</p>
          <pre class="rounded">
            <code id="claims-data" class="json"></code>
          </pre>
        </div>
        <div class="row">
          <p class="lead">Profile Data</p>
          <pre class="rounded">
            <code id="profile-data" class="json"></code>
          </pre>
        </div>
        <div class="row">
          <p class="lead">Token Data</p>
          <pre class="rounded">
            <code id="token-data" class="json"></code>
          </pre>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.auth0.com/js/auth0-spa-js/1.19/auth0-spa-js.development.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script src="js/ui.js"></script>
<script src="js/app.js"></script>
</body>
</html>
